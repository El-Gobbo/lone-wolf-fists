<table class="items-list">
  <tr>
    <th>Type</th>
    <th>Target</th>
    <th>Stat</th>
    <th>Rank</th>
    <th>Aggravation</th>
    <th class='item-controls'>
        <a
          class='item-control item-create'
          title='Create item'
          data-type='imbalance'
        >
          <i class='fas fa-plus'></i>
          {{localize 'DOCUMENT.New' type='imbalance'}}
        </a>
    </th>
  </tr>

  {{#each imbalances as |item id|}}
  <tr class='item' data-item-id='{{item._id}}'>
    <td class="item-source" data-imbtype="source">
      <select class="item-choice" name='item.system.source'>
      
      {{! Iterates over the list of stats that imbalances can target to produce a select menu.}} 
      {{! List can be edited at lone-wolf-fists\module\helpers\config.mjs}}
        {{#each ../imbalanceSources}}
        <option 
          {{! Makes sure that the default source shown is the one currently set on the imbalance}}
          {{#if (comparison item.system.source this)}} selected="selected" {{/if}} 
          value="{{this}}">{{this}}</option>
        {{/each}}

      </select>
    </td>
    <td class="item-bodyPart" data-imbtype="bodyPart">
      <select class = "item-choice" name="item.system.bodyPart">
        
        {{! Iterates over the list of body parts that imbalances can target to produce a select menu.}} 
        {{! List can be edited at lone-wolf-fists\module\helpers\config.mjs}}
        {{#each ../bodyParts}}
        <option 
          {{! Makes sure that the default source shown is the one currently set on the imbalance}}
          {{#if (comparison item.system.bodyPart this)}} selected="selected" {{/if}} 
          value="{{this}}">{{this}}</option>
        {{/each}}

      </select>
    </td>
    <td class="item-stat" data-imbtype="stat">
      <select class="item-choice item-stat" name='item.system.stat'>
      
      {{! Iterates over the list of stats that imbalances can target to produce a select menu.}} 
      {{! List can be edited at lone-wolf-fists\module\helpers\config.mjs}}
        {{#each ../imbalanceStats}}
        <option 
          {{! Makes sure that the default stat shown is the one currently set on the imbalance}}
          {{#if (comparison item.system.stat this)}} selected="selected" {{/if}} 
        value="{{this}}">{{this}}</option>
        {{/each}}

      </select>
    </td>
    <td class="item-rank rank">{{item.system.rank}}</td>
    <td class="item-agg" data-imbtype="agg">
      <input class="item-choice" type="text" name="item.system.agg" value="{{item.system.agg}}" data-dtype="Number"/>
    </td>
    <td class="item-controls">
      <a
          class='item-control item-edit'
          title='{{localize "DOCUMENT.Edit" type='imbalance'}}'
        >
          <i class='fas fa-edit'></i>
        </a>
        <a
          class='item-control item-delete'
          title='{{localize "DOCUMENT.Delete" type='imbalance'}}'
        >
          <i class='fas fa-trash'></i>
        </a>
      </td>
  </tr>
  {{/each}}

</table>